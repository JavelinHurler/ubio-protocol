{
    "description": "",
    "private": false,
    "inputs": {
        "url": {
            "typeRef": "#/domains/Generic/types/URL",
            "description": "Website entry point."
        },
        "quote": {
            "typeRef": "#/domains/MotorInsurance/types/Quote"
        },
        "account": {
            "typeRef": "#/domains/Generic/types/Account"
        },
        "payment": {
            "typeRef": "#/domains/Generic/types/Payment"
        },
        "panToken": {
            "typeRef": "#/domains/Generic/types/PanToken"
        },
        "finalPriceConsent": {
            "typeRef": "#/domains/Generic/types/PriceConsent",
            "description": "Client's consent for final price, should exactly match the <code>finalPrice</code> object from output.<br/>Automation will not proceed with placing order until the consent is provided."
        },
        "vehicle": {
            "typeRef": "#/domains/MotorInsurance/types/Vehicle"
        },
        "options": {
            "typeRef": "#/domains/MotorInsurance/types/Options",
            "default": {},
            "initial": true
        },
        "selectedVoluntaryExcess": {
            "typeRef": "#/domains/MotorInsurance/types/SelectedCover",
            "description": "Selected voluntary excess"
        },
        "selectedNoClaimsDiscountProtection": {
            "typeRef": "#/domains/MotorInsurance/types/SelectedCover",
            "description": "Selecged no claims discount protection."
        },
        "cookies": {
            "typeRef": "#/domains/Generic/types/Cookies"
        }
    },
    "outputs": {
        "finalPrice": {
            "description": "Emitted immediately before placing order, when final price is available.<br/>Automation will request <code>finalPriceConsent</code> input which should match this object.",
            "typeRef": "#/domains/Generic/types/PriceConsent"
        },
        "estimatedPrice": {
            "description": "Emitted before asking for payment information.<br/>This is usually not the final amount to be paid, especially on websites which charge credit and company cards additionally. You will get <code>finalPrice</code> later.",
            "typeRef": "#/domains/Generic/types/PriceConsent"
        },
        "purchaseConfirmation": {
            "typeRef": "#/domains/MotorInsurance/types/PurchaseConfirmation"
        },
        "availableVoluntaryExcesses": {
            "typeRef": "#/domains/MotorInsurance/types/AvailableCovers",
            "description": "List of voluntary excesses to choose from."
        },
        "availableExcessProtectCovers": {
            "typeRef": "#/domains/MotorInsurance/types/AvailableCovers",
            "description": "Emitted when actual cover information is collected.<br/>Note: on deep links with pre-selected additional cover this output may not be provided."
        },
        "availableLegalCovers": {
            "typeRef": "#/domains/MotorInsurance/types/AvailableCovers",
            "description": "Emitted when actual cover information is collected.<br/>Note: on deep links with pre-selected additional cover this output may not be provided."
        },
        "availableBreakdownCovers": {
            "typeRef": "#/domains/MotorInsurance/types/AvailableCovers",
            "description": "Emitted when actual cover information is collected.<br/>Note: on deep links with pre-selected additional cover this output may not be provided."
        },
        "availablePersonalInjuryCovers": {
            "typeRef": "#/domains/MotorInsurance/types/AvailableCovers",
            "description": "Emitted when actual cover information is collected.<br/>Note: on deep links with pre-selected additional cover this output may not be provided."
        },
        "availableCarHireCovers": {
            "typeRef": "#/domains/MotorInsurance/types/AvailableCovers",
            "description": "Emitted when actual cover information is collected.<br/>Note: on deep links with pre-selected additional cover this output may not be provided."
        },
        "availableNoClaimsDiscountProtection": {
            "typeRef": "#/domains/MotorInsurance/types/AvailableCovers",
            "description": "List of no claims discount protection options supported by this insurer."
        },
        "contactUs": {
            "typeRef": "#/domains/Generic/types/StructuredTextItem",
            "description": "Emitted when the contact info is presented."
        },
        "openingHours": {
            "typeRef": "#/domains/Generic/types/StructuredTextItem",
            "description": "Emitted when the opening hours are presented."
        },
        "quoteReference": {
            "typeRef": "#/domains/MotorInsurance/types/QuoteReference",
            "description": "Emitted when the quote reference is presented."
        },
        "excessBreakdown": {
            "typeRef": "#/domains/Generic/types/StructuredTextItem",
            "description": "Emitted when the excess breakdown is presented."
        },
        "priceBreakdown": {
            "typeRef": "#/domains/Generic/types/StructuredTextItem",
            "description": "Emitted when the price breakdown is presented."
        },
        "statuatoryStatusDisclosure": {
            "typeRef": "#/domains/Generic/types/StructuredTextItem",
            "description": "Emitted when the statuatory status disclosure text is presented."
        },
        "faq": {
            "typeRef": "#/domains/Generic/types/StructuredTextItem",
            "description": "Emitted when the FAQ link or document is presented."
        },
        "coverSummary": {
            "typeRef": "#/domains/Generic/types/StructuredTextItem",
            "description": "Emitted when the cover summary is presented."
        },
        "assumptions": {
            "typeRef": "#/domains/Generic/types/StructuredTextItem",
            "description": "Emitted when the assumptions are presented."
        },
        "statements": {
            "typeRef": "#/domains/Generic/types/StructuredTextItem",
            "description": "Emitted when the statements are presented."
        },
        "feesSummary": {
            "typeRef": "#/domains/Generic/types/StructuredTextItem",
            "description": "Emitted when the fees are presented."
        },
        "policyWording": {
            "typeRef": "#/domains/Generic/types/StructuredTextItem",
            "description": "Emitted when the policy wording is presented."
        },
        "statementOfFact": {
            "typeRef": "#/domains/Generic/types/StructuredTextItem",
            "description": "Emitted when the statement of fact is presented."
        },
        "privacyPolicy": {
            "typeRef": "#/domains/Generic/types/StructuredTextItem",
            "description": "Emitted when the privacy policy is presented."
        },
        "vehicleDetails": {
            "typeRef": "#/domains/MotorInsurance/types/Vehicle",
            "description": "Emitted when the vehicle information is presented."
        },
        "supportedPaymentCardTypes": {
            "typeRef": "#/domains/MotorInsurance/types/PaymentCardTypes",
            "description": "List of payment cards supported by this insurer."
        },
        "noClaimsDiscountProtectionInfo": {
            "typeRef": "#/domains/Generic/types/HTML",
            "description": "Emitted when the no claims discount protection info is presented."
        }
    },
    "types": {
        "QuoteReference": {
            "type": "string",
            "description": "Existing quote retrieval information.",
            "example": "ABC123"
        },
        "Quote": {
            "type": "object",
            "description": "Existing quote retrieval information.",
            "properties": {
                "reference": {
                    "type": "string",
                    "description": "Reference code.",
                    "example": "ABC123"
                },
                "postcode": {
                    "type": "string",
                    "description": "UK post code",
                    "example": "EC1R0AT"
                },
                "dateOfBirth": {
                    "type": "string",
                    "description": "Proposer's date of birth in YYYY-MM-DD format.",
                    "format": "date",
                    "example": "1976-01-27"
                },
                "email": {
                    "type": "string",
                    "description": "Email address used to retrieve the quote.",
                    "format": "email",
                    "example": "client@example.com"
                }
            },
            "required": [
                "reference",
                "postcode",
                "email",
                "dateOfBirth"
            ]
        },
        "PurchaseConfirmation": {
            "type": "object",
            "description": "Information gathered on the \"confirmation\" page.",
            "properties": {
                "purchaseReference": {
                    "type": "string",
                    "description": "Reference code grabbed from the page.",
                    "example": "RL2XYZ"
                },
                "message": {
                    "type": "string",
                    "description": "The confirmation message.",
                    "example": "Thank you for using UBIO Insurance. Your quote is ABC123 and purchase reference is DEF456."
                },
                "price": {
                    "$ref": "#/domains/Generic/types/Price",
                    "description": "Price, if found on the confirmation page."
                }
            },
            "additionalProperties": false,
            "required": [
                "purchaseReference"
            ]
        },
        "Vehicle": {
            "type": "object",
            "description": "Information about the vehicle being insured.",
            "pii": true,
            "properties": {
                "registrationNumber": {
                    "type": "string",
                    "description": "Vehicle registration number (licence plate).",
                    "example": "Y900MCL"
                },
                "make": {
                    "type": "string",
                    "description": "Vehicle make.",
                    "example": "Audi"
                },
                "model": {
                    "type": "string",
                    "description": "Vehicle model.",
                    "example": "SQ5 TDI"
                },
                "makeModel": {
                    "type": "string",
                    "description": "Vehicle combined make+model.",
                    "example": "Audi SQ5 TDI"
                },
                "yearOfManufacture": {
                    "type": "string",
                    "description": "Vehicle year of manufacture",
                    "example": "2013"
                }
            },
            "additionalProperties": false,
            "required": [
                "registrationNumber"
            ]
        },
        "Options": {
            "type": "object",
            "description": "Flags for enabling optional automation features such as upsells and additional cover. Clients should send <code>false</code> or omit flags if specific features are not implemented on their end.",
            "properties": {
                "legalCover": {
                    "type": "boolean",
                    "default": false
                },
                "breakdownCover": {
                    "type": "boolean",
                    "default": false
                },
                "personalInjuryCover": {
                    "type": "boolean",
                    "default": false
                },
                "carHireCover": {
                    "type": "boolean",
                    "default": false
                }
            }
        },
        "AvailableCovers": {
            "type": "array",
            "description": "A list of available cover options found on the page.",
            "minItems": 1,
            "maxItems": 40,
            "items": { "$ref": "#/domains/MotorInsurance/types/Cover" }
        },
        "SelectedCover": {
            "oneOf": [
                {
                    "$ref": "#/domains/MotorInsurance/types/Cover"
                },
                {
                    "type": "null"
                }
            ]
        },
        "Cover": {
            "type": "object",
            "description": "Cover information.",
            "additionalProperties": false,
            "properties": {
                "name": {
                    "type": "string",
                    "description": "Cover marketing name as provided by the insurer.",
                    "example": "European Plus"
                },
                "price": { "$ref": "#/domains/Generic/types/Price" },
                "details": { "$ref": "#/domains/Generic/types/StructuredTextItem" }
            },
            "required": [
                "name"
            ]
        },
        "PolicyGroupInfo": {
            "type": "array",
            "description": "Group of information about the policy.",
            "minItems": 1,
            "items": { "$ref": "#/domains/MotorInsurance/types/PolicyGroupItem" }
        },
        "PolicyGroupItem": {
            "type": "object",
            "description": "Piece of information about the policy.",
            "properties": {
                "name": {
                    "type": "string",
                    "description": "Type of information as provided by the insurer.",
                    "example": "Policy details"
                },
                "value": {
                    "type": "string",
                    "description": "Information details or url, where available.",
                    "example": "https://www.example.com/documents/policy-details.pdf"
                }
            },
            "required": [
                "name",
                "value"
            ],
            "additionalProperties": false
        },
        "PaymentCardTypes": {
            "type": "array",
            "description": "List of payment card types.",
            "items": {
                "$ref": "#/domains/MotorInsurance/types/PaymentCardType"
            }
        },
        "PaymentCardType": {
            "type": "object",
            "description": "Type of card.",
            "properties": {
                "type": {
                    "type": "string",
                    "description": "Card type, debit or credit.",
                    "enum": [
                        "debit",
                        "credit"
                    ]
                },
                "brand": {
                    "type": "string",
                    "description": "Card brand, must be one of the supported card brands. Automation may fail if a specific card brand is not supported on a particular website.",
                    "enum": [
                        "visa",
                        "mastercard",
                        "amex",
                        "discover"
                    ]
                }
            },
            "required": [
                "type",
                "brand"
            ],
            "additionalProperties": false
        }
    },
    "errors": [
        {
            "code": "LegalCoverNotFound",
            "category": "client",
            "description": "Given legal cover does not match one of the options we are expecting"
        },
        {
            "code": "BreakdownCoverNotFound",
            "category": "client",
            "description": "Given breakdown cover does not match one of the options we are expecting"
        },
        {
            "code": "PersonalInjuryCoverNotFound",
            "category": "client",
            "description": "Given personal injury cover does not match one of the options we are expecting"
        },
        {
            "code": "CarHireCoverNotFound",
            "category": "client",
            "description": "Given car hire cover does not match one of the options we are expecting"
        },
        {
            "code": "RegistrationNumberInvalid",
            "category": "client",
            "description": "Registration number is not accepted by the website"
        },
        {
            "code": "RegistrationNumberRequired",
            "category": "client",
            "description": "Registration number is required by the website"
        }
    ],
    "attributes": {}
}
